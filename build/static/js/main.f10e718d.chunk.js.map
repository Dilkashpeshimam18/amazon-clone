{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","reducer.js","Subtotal.js","CheckoutProduct.js","Checkout.js","Login.js","axios.js","Payment.js","Order.js","App.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","basket","user","className","to","src","type","onClick","signOut","email","length","Product","id","title","image","price","rating","dispatch","Array","fill","map","_","i","item","Home","alt","getBasketTotal","reduce","amount","state","action","index","findIndex","basketItem","newBasket","splice","console","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","CheckoutProduct","Checkout","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","setError","disabled","setDisabled","succeeded","SetSucceeded","processing","SetProcessing","clientSecret","setClientSecret","useEffect","a","method","url","response","data","getClientSecret","log","handleSubmit","event","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","created","replace","onSubmit","empty","Order","order","moment","unix","format","hideButton","promise","loadStripe","App","onAuthStateChanged","authUser","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f10e718d.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\r\n\r\n// Prepares the dataLayer\r\nexport const StateContext = createContext();\r\n\r\n// Wrap our app and provide the Data layer\r\nexport const StateProvider = ({ reducer, initialState, children }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n);\r\n\r\n// Pull information from the data layer\r\nexport const useStateValue = () => useContext(StateContext);","import firebase from \"firebase\";\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyD_NkUTbuB-AQYadWIC5WCKdqDLR4qdw3k\",\r\n    authDomain: \"clone-5d626.firebaseapp.com\",\r\n    projectId: \"clone-5d626\",\r\n    storageBucket: \"clone-5d626.appspot.com\",\r\n    messagingSenderId: \"952972930431\",\r\n    appId: \"1:952972930431:web:0831d5ffd7b39720423e4a\",\r\n    measurementId: \"G-EVWFFG3TQW\"\r\n  };\r\n\r\n  const firebaseApp = firebase.initializeApp(firebaseConfig);\r\n  const db = firebaseApp.firestore();\r\n  const auth = firebase.auth();\r\n\r\n  export {db, auth};","import React from 'react'\r\nimport './Header.css'\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport ShoppingBasketIcon from '@material-ui/icons/ShoppingBasket';\r\nimport {Link} from 'react-router-dom';\r\nimport {useStateValue} from \"./StateProvider\";\r\nimport { auth } from './firebase';\r\n\r\nfunction Header() {\r\n    const [{basket, user},dispatch]= useStateValue();\r\n    const handleAuthentication = ()=> {\r\n        if (user){\r\n            auth.signOut();\r\n        }\r\n    }\r\n    return (\r\n        <div className='header'>\r\n            <Link to=\"/\"><img className=\"header_logo\" src=\"http://pngimg.com/uploads/amazon/amazon_PNG11.png\" /></Link>\r\n            <div className=\"header_search\">\r\n                <input className=\"header_searchInput\" type=\"text\" />\r\n                <SearchIcon className=\"header_searchIcon\" />\r\n\r\n                \r\n            </div>\r\n            <div className=\"header_nav\">\r\n                <Link to={!user && \"/login\"}>\r\n                <div onClick={handleAuthentication} className=\"header_option\">\r\n                    <span className=\"header_optionLineOne\">\r\n                        Hello {!user? 'Guest' :user.email}\r\n                    </span>\r\n                    <span className=\"header_optionLineTwo\">\r\n                        {user? 'Sign Out': 'Sign In'}\r\n                    </span>\r\n                </div>\r\n                </Link>\r\n               <Link to=\"/orders\">\r\n                <div className=\"header_option\">\r\n                    <span className=\"header_optionLineOne\">\r\n                        Returns\r\n                    </span>\r\n                    <span className=\"header_optionLineTwo\">\r\n                        & Orders\r\n                    </span>\r\n                </div>\r\n                </Link>\r\n\r\n\r\n                <div className=\"header_option\">\r\n                    <span className=\"header_optionLineOne\">\r\n                        Your\r\n                    </span>\r\n                    <span className=\"header_optionLineTwo\">\r\n                        Prime\r\n                    </span>\r\n                </div>\r\n                <Link to=\"/checkout\">\r\n                <div className=\"header_optionBasket\">\r\n                    <ShoppingBasketIcon />\r\n                    <span className=\"header_optionLineTwo header_basketCount\">{basket?.length}</span>\r\n                </div>\r\n                </Link>\r\n                \r\n            </div>\r\n           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport './Product.css'\r\nimport { useStateValue } from './StateProvider';\r\n\r\nfunction Product({id,title, image, price, rating}) {\r\n    const [{basket},dispatch]= useStateValue();\r\n    const addToBasket = () => {\r\n        //dispatch the item in data layer/contextapi\r\n        dispatch({\r\n            type: \"ADD_TO_BASKET\",\r\n            item: {\r\n                id: id,\r\n                title: title,\r\n                image: image,\r\n                price: price,\r\n                rating: rating,\r\n            },\r\n        });\r\n\r\n    };\r\n    return (\r\n        <div className=\"product\">\r\n            <div className=\"product__info\">\r\n                <p>{title}</p>\r\n                <p className=\"product__price\"><small>₹</small>\r\n                    <strong>{price}</strong></p>\r\n                <div className=\"product__rating\">\r\n                    {Array(rating).fill().map((_, i) => (\r\n                    <p>⭐</p>))}\r\n                </div>\r\n            </div>\r\n            <img src= {image} />\r\n            <button onClick={addToBasket}>Add to Basket</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Product\r\n","import React from 'react'\r\nimport './Home.css'\r\nimport Product from './Product'\r\n\r\n\r\nfunction Home() {\r\n    return (\r\n        <div className=\"home\">\r\n            <div className=\"home__container\">\r\n                <img className=\"home__image\"\r\n                    src=\"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\r\n                    alt=\"\" />\r\n                <div className=\"home__row\">\r\n                    <Product id=\"1\"\r\n                    title=\"Think and Grow Rich (DELUXE HARDBOUND EDITION)\"\r\n                    price={900}\r\n                    image=\"https://images-eu.ssl-images-amazon.com/images/I/51NcIBUnokL._SY264_BO1,204,203,200_QL40_FMwebp_.jpg\"\r\n                    rating={4} />\r\n                    <Product  id=\"2\"\r\n                    title=\"ASUS ZenBook Duo Intel Core i5-10210U FHD Thin and Light Touch Laptop \"\r\n                    price={79490}\r\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/81K9Es2DDFL._AC_SL1500_.jpg\"\r\n                    rating={4} />\r\n                    \r\n\r\n                </div>\r\n                <div className=\"home__row\">\r\n                    <Product id=\"3\" title=\"GoSriKi Women's Rayon Anarkali Kurta with Gold Printed Dupatta\"\r\n                    price={599}\r\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/61Ov56SdKVS._AC_UL1024_.jpg\"\r\n                    rating={3} />\r\n                   <Product  id=\"4\" title=\"Citizen Eco-Drive Chronograph Men's Watch - CA4037-01W\"\r\n                    price={15000}\r\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/91h43v41moL._AC_UL1500_.jpg\"\r\n                    rating={5} />\r\n                    \r\n                    <Product id=\"5\" title=\"Noise Air Buds Truly Wireless Earbuds with Mic for Crystal Clear Calls, HD Sound, Smart Touch and 20 Hour Playtime - ICY White\"\r\n                    price={2500}\r\n                    image=\"https://images-na.ssl-images-amazon.com/images/I/51jR6miqHTS._AC_SL1500_.jpg\"\r\n                    rating={4} />\r\n                </div>\r\n                <div className=\"home__row\">\r\n                <Product id=\"6\" title=\"Echo Dot (3rd Gen) – Smart speaker with Alexa (Black)\"\r\n                    price={3499}\r\n                    image=\"https://m.media-amazon.com/images/I/61EXU8BuGZL._AC_UY218_.jpg\"\r\n                    rating={5} />\r\n                <Product id=\"7\" title=\" Samsung 6.0 Kg Inverter 5 Star Fully-Automatic Front Loading Washing Machine (WW60R20GLMA/TL, White, Hygiene Steam)\"\r\n                    price={22490}\r\n                    image=\"https://m.media-amazon.com/images/I/614-yYoVkUL._AC_UY218_.jpg\"\r\n                    rating={4} />\r\n               \r\n                </div>\r\n                <div className=\"home__row\">\r\n                    < img src=\"https://images-eu.ssl-images-amazon.com/images/G/31/img20/Vernac13th/1500x150_V2_Eng._CB412582591_.jpg\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home\r\n","\r\nexport const initialState = {\r\n    basket: [],\r\n    user: null\r\n  };\r\n  //Selector\r\n  export const getBasketTotal =(basket)=>\r\n  basket?.reduce((amount,item)=>item.price+amount,0);\r\n\r\n  const reducer = (state,action) =>{\r\n      switch(action.type) {\r\n          case 'ADD_TO_BASKET':\r\n              return {\r\n                  ...state, basket : [...state.basket, action.item],\r\n              };\r\n            case 'EMPTY_BASKET':\r\n                return{\r\n                    ...state,basket: []\r\n                };\r\n          case 'REMOVE_FROM_BASKET':\r\n            const index= state.basket.findIndex(\r\n                (basketItem)=>basketItem.id==action.id\r\n            );\r\n            let newBasket=[...state.basket];\r\n            if (index>=0){\r\n                newBasket.splice(index,1);\r\n\r\n            }else{\r\n                console.warn(\r\n                    `Can't remove product (id: ${action.id}) as its not in basket`\r\n                )\r\n            }\r\n            return{\r\n                ...state,\r\n                basket:newBasket\r\n            }\r\n        case 'SET_USER':\r\n            return{\r\n                ...state,\r\n                user: action.user\r\n                }\r\n\r\n      default:\r\n          return state;\r\n      }\r\n  };\r\n  export default reducer;","import React from 'react'\r\nimport './Subtotal.css'\r\nimport CurrencyFormat from 'react-currency-format'\r\nimport {useStateValue} from \"./StateProvider\";\r\nimport { getBasketTotal } from './reducer';\r\nimport { useHistory } from 'react-router';\r\n\r\nfunction Subtotal() {\r\n    const history = useHistory();\r\n    const [{basket},dispatch]= useStateValue();\r\n    return (\r\n        <div className=\"subtotal\">\r\n            <CurrencyFormat\r\n                renderText={(value)=>(\r\n                    <>\r\n                        <p>\r\n                            Subtotal ({basket?.length} items):\r\n                            <strong>{value}</strong>\r\n                        </p>\r\n                        <small className=\"subtotal_gift\">\r\n                            <input type=\"checkbox\" /> This order contain gift\r\n                        </small>\r\n                    \r\n                    \r\n                    </>\r\n                )}\r\n                decimalScale={2}\r\n                value={getBasketTotal(basket)}\r\n                displayType={\"text\"}\r\n                thousandSeparator={true}\r\n                prefix={\"₹\"}\r\n            />\r\n            <button onClick={e=>history.push(\"/payment\")}>Proceed To Checkout</button>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Subtotal\r\n","import React from 'react'\r\nimport './CheckoutProduct.css'\r\nimport {useStateValue} from \"./StateProvider\"\r\n\r\nfunction CheckoutProduct({id,image,title,price,rating}) {\r\n    const [{basket},dispatch]= useStateValue();\r\n    const removeFromBasket = ()=> {\r\n        dispatch({\r\n            type: \"REMOVE_FROM_BASKET\",\r\n            id:id,\r\n        })\r\n\r\n    }\r\n    return (\r\n        <div className=\"checkoutProduct\">\r\n            <img className=\"checkoutProduct__image\" src={image} />\r\n            <div className=\"checkoutProduct__info\">\r\n                <p className=\"checkoutProduct__title\">{title}</p>\r\n                <p className=\"checkoutProduct__price\"><small>₹</small>\r\n                    <strong>{price}</strong></p>\r\n                <div className=\"checkoutProduct__rating\">\r\n                    {Array(rating).fill().map((_, i) => (\r\n                    <p>⭐</p>))}\r\n                </div>\r\n                <button onClick={removeFromBasket}>Remove From Basket</button>\r\n\r\n\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckoutProduct\r\n","import React from 'react'\r\nimport './Checkout.css'\r\nimport Subtotal from './Subtotal'\r\nimport {useStateValue} from \"./StateProvider\"\r\nimport CheckoutProduct from './CheckoutProduct';\r\n\r\n\r\nfunction Checkout() {\r\n    const [{basket, user},dispatch]= useStateValue();\r\n    return (\r\n        <div className=\"checkout\">\r\n            <div className=\"checkout__left\">\r\n                <img className=\"checkout__ad\" src=\"https://www.earticleblog.com/wp-content/uploads/2017/08/gp-amazon-sale-banner-29062017.jpg\" />\r\n                <div className=\"checkout_title\">\r\n                    <h3> Hello, {user?.email}</h3>\r\n                    <h2>Your Shopping Basket</h2>\r\n                    \r\n                </div>\r\n                {basket.map(item =>(\r\n                        <CheckoutProduct \r\n                        id={item.id}\r\n                        title={item.title}\r\n                        image={item.image}\r\n                        price={item.price}\r\n                        rating={item.rating}\r\n                        \r\n                        />\r\n                    ))}\r\n            </div>\r\n            <div className=\"checkout__right\">\r\n                <Subtotal />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout\r\n","import React, {useState} from 'react';\r\nimport './Login.css';\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport { auth } from './firebase';\r\n\r\nfunction Login() {\r\n    const history = useHistory();\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const signIn = e => {\r\n        e.preventDefault();\r\n        auth.signInWithEmailAndPassword(email, password)\r\n        .then((auth)=>{\r\n            \r\n                history.push(\"/\")\r\n            \r\n        })\r\n        .catch(error=>alert(error.message))\r\n\r\n    }\r\n    const register= e=>{\r\n        e.preventDefault();\r\n        auth.createUserWithEmailAndPassword(email, password)\r\n        .then((auth)=>{\r\n\r\n            if (auth){\r\n                history.push(\"/\")\r\n            }\r\n        })\r\n        .catch(error=>alert(error.message))\r\n    }\r\n    return (\r\n        <div className=\"login\">\r\n            <Link to=\"/\">\r\n                <img className=\"login__logo\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"  />\r\n            </Link>\r\n            <div className=\"login__container\">\r\n                <h1>Sign-In</h1>\r\n                <form>\r\n                    <h5>Email</h5>\r\n                    <input type=\"text\" value={email} onChange={e =>setEmail(e.target.value)}/>\r\n                    <h5>Password</h5>\r\n                    <input type=\"password\" value={password} onChange={e =>setPassword(e.target.value)}/>\r\n                    <button className=\"login__signInButton\" type=\"submit\" onClick={signIn}>Sign In</button>\r\n                </form>\r\n                <p>\r\n                    By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please\r\n                    see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice.\r\n                </p>\r\n\r\n                <button className='login__registerButton' onClick={register}>Create your Amazon Account</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import axios from 'axios';\r\n\r\nconst instance= axios.create({\r\n    baseURL: 'http://localhost:5001/clone-5d626/us-central1/api'\r\n});\r\n\r\nexport default instance;","import React, {useState, useEffect} from 'react';\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport './Payment.css';\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport {useStateValue} from './StateProvider';\r\nimport { CardElement, useElements, useStripe } from '@stripe/react-stripe-js';\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport {getBasketTotal} from './reducer';\r\nimport { Card } from '@material-ui/core';\r\nimport axios from './axios';\r\nimport {db} from \"./firebase\";\r\n\r\nfunction Payment(id) {\r\n    const [{basket, user},dispatch]= useStateValue();\r\n    const history = useHistory();\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n    const[error, setError]= useState(null);\r\n    const[disabled, setDisabled]=useState(true);\r\n    const[succeeded,SetSucceeded]=useState(false);\r\n    const[processing,SetProcessing]=useState(\"\");\r\n    const[clientSecret, setClientSecret]= useState(true);\r\n\r\n    useEffect(() => {\r\n        const getClientSecret = async() =>{\r\n            const response = await axios({\r\n                method:'post',\r\n                url : `/payments/create?total=${getBasketTotal(basket)*100}`\r\n            });\r\n            setClientSecret(response.data.clientSecret)\r\n\r\n        }\r\n        getClientSecret();\r\n        console.log(\"THE SECRET is>>>>\", clientSecret)\r\n\r\n    }, [basket])\r\n\r\n    const handleSubmit= async(event)=>{\r\n        event.preventDefault();\r\n        SetProcessing(true);\r\n\r\n        const payload= await stripe.confirmCardPayment(clientSecret,{\r\n            payment_method: {\r\n                card: elements.getElement(CardElement)\r\n            }\r\n        }).then(({paymentIntent}) =>{\r\n            //paymentIntent=paymentConfirmation\r\n            db\r\n            .collection('users')\r\n            .doc(user?.uid)\r\n            .collection('order')\r\n            .doc('paymentIntent.id')\r\n            .set({\r\n                basket:basket,\r\n                amount:paymentIntent.amount,\r\n                created:paymentIntent.created,\r\n            })\r\n            SetSucceeded(true);\r\n            setError(null);\r\n            SetProcessing(false);\r\n            dispatch({\r\n                type: 'EMPTY_BASKET'\r\n            })\r\n            history.replace('/orders')\r\n        })\r\n\r\n\r\n    }\r\n\r\n    const handleChange=event=>{\r\n        setDisabled(event.empty);\r\n        setError(event.error ? event.error.message : \"\");\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"payment\">\r\n            <div className=\"payment__container\">\r\n            <h1>\r\n                    Checkout (\r\n                        <Link to=\"/checkout\">{basket?.length} items</Link>\r\n                        )\r\n                </h1>\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Delivery Address</h3>\r\n                    </div>\r\n                    <div className=\"payment__address\">\r\n                        <p>{user?.email}</p>\r\n                        <p>123 lane</p>\r\n                        <p>Mumbai , Maharashtra</p>\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Review items & Delivery</h3>\r\n                    </div>\r\n                    <div className=\"payment__items\">\r\n                    {basket.map(item => (\r\n                            <CheckoutProduct\r\n                                id={item.id}\r\n                                title={item.title}\r\n                                image={item.image}\r\n                                price={item.price}\r\n                                rating={item.rating}\r\n                            />\r\n                        ))}\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div className=\"payment__section\">\r\n                    <div className=\"payment__title\">\r\n                        <h3>Payment Method</h3>\r\n                    </div>\r\n                    <div className=\"payment__details\">\r\n                        <form onSubmit={handleSubmit}>\r\n                            <CardElement onChange={handleChange} />\r\n                            <div className=\"payment__priceContainer\">\r\n                            <CurrencyFormat\r\n                                        renderText={(value) => (\r\n                                            <h3>Order Total: {value}</h3>\r\n                                        )}\r\n                                        decimalScale={2}\r\n                                        value={getBasketTotal(basket)}\r\n                                        displayType={\"text\"}\r\n                                        thousandSeparator={true}\r\n                                        prefix={\"₹\"}\r\n                \r\n                                    />\r\n                            <button disabled={processing || disabled || succeeded}>\r\n                                <span>{processing? <p>Processing</p>:\"Buy Now\"}</span>\r\n                            </button>\r\n                            </div>\r\n                            {error && <div>{error}</div>}\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Payment;\r\n","import React from 'react';\r\nimport './Order.css';\r\nimport moment from \"moment\";\r\nimport CheckoutProduct from \"./CheckoutProduct\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\n\r\nfunction Order({order}) {\r\n    return (\r\n        <div className=\"order\">\r\n            <h2>Order</h2>\r\n            <p>{moment.unix(order.data.created).format(\"MMMM Do YYYY, h:mma\")}</p>\r\n            <p className=\"order__id\">\r\n                <small>{order.id}</small>\r\n            </p>\r\n            {order.data.basket?.map(item => (\r\n                <CheckoutProduct\r\n                    id={item.id}\r\n                    title={item.title}\r\n                    image={item.image}\r\n                    price={item.price}\r\n                    rating={item.rating}\r\n                    hideButton\r\n                />\r\n                ))}\r\n                <CurrencyFormat\r\n                renderText={(value) => (\r\n                    <h3 className=\"order__total\">Order Total: {value}</h3>\r\n                )}\r\n                decimalScale={2}\r\n                value={order.data.amount / 100}\r\n                displayType={\"text\"}\r\n                thousandSeparator={true}\r\n                prefix={\"$\"}\r\n            /> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Order\r\n","import React, {useEffect} from 'react';\nimport './App.css';\nimport './Header';\nimport Home from './Home';\nimport Header from './Header';\nimport {BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\nimport Checkout from './Checkout';\nimport Login from './Login'\nimport { useStateValue } from './StateProvider';\nimport {auth} from './firebase';\nimport Payment from './Payment';\nimport {loadStripe} from '@stripe/stripe-js';\nimport {Elements} from '@stripe/react-stripe-js';\nimport Order from './Order';\n\nconst promise = loadStripe('pk_test_51InLW4SFCCEicE5h6JWGTfSgHGP2crYUbk2EHRHJAYrFf894hKDbMSKb6k2X1OqOz4wBvFowPKErZpL4WocfHDAF00unF1e0pB');\n\nfunction App() {\n  const [{}, dispatch]= useStateValue();\nuseEffect(()=>{\n  auth.onAuthStateChanged((authUser)=>{\n    console.log('The user is>>>',authUser);\n    if(authUser){\n      //if the user is logged in or was logged in\n      dispatch({\n        type:'SET_USER',\n        user : authUser,\n      });\n\n    }else{\n      // if the user is logged out\n      dispatch({\n        type: 'SET_USER',\n        user: null,\n      });\n    }\n  });\n\n},[]);\n  return (\n    <Router>\n      <div className=\"app\">\n        <Switch>\n        <Route path=\"/login\">\n          <Login />\n        </Route>\n        <Route path=\"/orders\">\n          <Header />\n          <Order />\n        </Route>\n        <Route path=\"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n          <Route path=\"/payment\">\n            <Header />\n            <Elements stripe={promise}>\n              <Payment />\n            </Elements>\n          </Route>\n          <Route path=\"/\">\n            <Header />\n            <Home />\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n    \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { StateProvider } from './StateProvider';\nimport   reducer,{initialState} from \"./reducer\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState} reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n\n"],"sourceRoot":""}